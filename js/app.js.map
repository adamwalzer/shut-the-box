{"version":3,"sources":["app.jsx"],"names":[],"mappings":"AAAA,IAAI,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC;AAC3B,aAAW,GAAG;AACZ,QAAG,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,OAAO;AACnE,QAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;AACtB,UAAI,CAAC,QAAQ,CAAC;AACZ,gBAAQ,EAAE,KAAK;OAChB,CAAC,CAAC;KACJ,MAAM;AACL,UAAI,CAAC,QAAQ,CAAC;AACZ,gBAAQ,EAAE,IAAI;OACf,CAAC,CAAC;KACJ;GACF;AACD,MAAI,GAAG;AACL,QAAI,CAAC,QAAQ,CAAC;AACZ,cAAQ,EAAE,KAAK;AACf,YAAM,EAAE,IAAI;KACb,CAAC,CAAC;GACJ;AACD,iBAAe,GAAG;AAChB,WAAO;AACL,cAAQ,EAAE,KAAK;AACf,YAAM,EAAE,KAAK;KACd,CAAA;GACF;AACD,QAAM,GAAG;AACP,QAAI,SAAS,GAAG,MAAM,CAAC;AACvB,QAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;AACpB,eAAS,IAAI,SAAS,CAAC;KACxB,MAAM,IAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;AAC7B,eAAS,IAAI,WAAW,CAAC;KAC1B;AACD,WACE;;QAAK,SAAS,EAAE,SAAS,AAAC,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,AAAC;MAAE,IAAI,CAAC,KAAK,CAAC,MAAM;KAAO,CAC/E;GACH;CACF,CAAC,CAAC;;AAEH,IAAI,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC;AAC/B,SAAO,GAAG;AACR,QAAI,SAAS,GAAG,CAAC,CAAC;AAClB,SAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,EAAE,EAAE,CAAC,EAAE,EAAE;AACtB,UAAG,IAAI,CAAC,IAAI,CAAC,OAAO,GAAC,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE;AACtC,iBAAS,IAAI,CAAC,CAAC;OAChB;KACF;AACD,QAAI,CAAC,QAAQ,CAAC;AACZ,eAAS,EAAE,SAAS;KACrB,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;GAC7B;AACD,gBAAc,GAAG;AACf,QAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC;AACjD,SAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,EAAE,EAAE,CAAC,EAAE,EAAE;AACtB,UAAG,IAAI,CAAC,IAAI,CAAC,OAAO,GAAC,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE;AACtC,YAAI,CAAC,IAAI,CAAC,OAAO,GAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AAC5B,YAAG,CAAC,IAAE,CAAC,EAAE,OAAO,GAAG,KAAK,CAAC;OAC1B;KACF;AACD,QAAG,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;GAC7C;AACD,qBAAmB,GAAG;AACpB,QAAI,CAAC,QAAQ,CAAC;AACZ,gBAAU,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC;KACtC,CAAC,CAAC;GACJ;AACD,SAAO,GAAG;AACR,QAAI,SAAS,GAAG,CAAC,CAAC;AAClB,SAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,EAAE,EAAE,CAAC,EAAE,EAAE;AACtB,UAAG,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,GAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE;AACrC,iBAAS,IAAI,CAAC,CAAC;OAChB;KACF;AACD,SAAK,CAAC,aAAa,GAAC,SAAS,CAAC,CAAC;GAChC;AACD,iBAAe,GAAG;AAChB,WAAO;AACL,eAAS,EAAE,CAAC;AACZ,gBAAU,EAAE,CAAC;KACd,CAAC;GACH;AACD,QAAM,GAAG;AACP,QAAI,KAAK,GAAG,EAAE,CAAC;AACf,QAAI,UAAU,CAAC;AACf,SAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,EAAE,EAAE,CAAC,EAAE,EAAE;AACtB,WAAK,CAAC,IAAI,CAAC;;UAAI,GAAG,EAAE,CAAC,AAAC;QAAC,oBAAC,IAAI,IAAC,GAAG,EAAE,OAAO,GAAC,CAAC,AAAC,EAAC,GAAG,EAAE,CAAC,AAAC,EAAC,MAAM,EAAE,CAAC,AAAC,EAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,AAAC,GAAG;OAAK,CAAC,CAAC;KACjG;AACD,QAAG,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;AACxB,gBAAU,GAAG,GAAG,GAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;KACxC;AACD,WACE;;;MACE;;UAAI,SAAS,EAAC,WAAW;QACtB,KAAK;OACH;MACL;;UAAQ,OAAO,EAAE,IAAI,CAAC,OAAO,AAAC;;QACnB,UAAU;OACZ;KACL,CACN;GACH;CACF,CAAC,CAAC;;AAEH,IAAI,GAAG,GAAG,KAAK,CAAC,WAAW,CAAC;AAC1B,MAAI,GAAI;AACN,QAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAC,CAAC,GAAC,CAAC,CAAC,CAAC;AAC3C,QAAI,CAAC,QAAQ,CAAC;AACZ,YAAM,EAAE,MAAM;KACf,CAAC,CAAC;AACH,WAAO,MAAM,CAAC;GACf;AACD,iBAAe,GAAG;AAChB,WAAO;AACL,YAAM,EAAE,CAAC;KACV,CAAC;GACH;AACD,QAAM,GAAG;AACP,WACE;;QAAK,SAAS,EAAC,KAAK;MAAE,IAAI,CAAC,KAAK,CAAC,MAAM;KAAO,CAC9C;GACH;CACF,CAAC,CAAC;;AAEH,IAAI,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC;AAC3B,MAAI,GAAG;AACL,QAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE;AACpC,WAAK,CAAC,kDAAkD,CAAC,CAAC;KAC3D,MAAM;AACL,UAAI,SAAS,GAAG,CAAC,CAAC;AAClB,WAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,CAAC,EAAE,CAAC,EAAE,EAAE;AACrB,iBAAS,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;OACzC;AACD,UAAI,CAAC,QAAQ,CAAC;AACZ,iBAAS,EAAE,SAAS;OACrB,CAAC,CAAC;AACH,UAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;KAC7B;GACF;AACD,SAAO,GAAG;AACR,QAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;GAC3B;AACD,eAAa,GAAG;AACd,QAAI,CAAC,QAAQ,CAAC;AACZ,kBAAY,EAAE,CAAC;KAChB,CAAC,CAAC;GACJ;AACD,iBAAe,GAAG;AAChB,WAAO;AACL,eAAS,EAAE,CAAC;AACZ,kBAAY,EAAE,CAAC;KAChB,CAAA;GACF;AACD,QAAM,GAAG;AACP,QAAI,IAAI,GAAG,EAAE,CAAC;AACd,SAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE;AAC3C,UAAI,CAAC,IAAI,CAAC;;UAAI,GAAG,EAAE,CAAC,AAAC;QAAC,oBAAC,GAAG,IAAC,GAAG,EAAE,MAAM,GAAC,CAAC,AAAC,EAAC,GAAG,EAAE,CAAC,AAAC,GAAG;OAAK,CAAC,CAAC;KAC5D;AACD,WACE;;;MACE;;UAAI,SAAS,EAAC,MAAM;QACjB,IAAI;OACF;MACL;;UAAQ,OAAO,EAAE,IAAI,CAAC,IAAI,AAAC;;OAElB;MACT;;UAAQ,OAAO,EAAE,IAAI,CAAC,OAAO,AAAC;;OAErB;KACL,CACN;GACH;CACF,CAAC,CAAC;;AAEH,IAAI,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC;AAC3B,WAAS,GAAG;AACV,QAAI,CAAC,QAAQ,CAAC;AACZ,iBAAW,EAAE,IAAI;KAClB,CAAC,CAAC;AACH,QAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC;GAC1C;AACD,SAAO,GAAG;AACR,QAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;AACxE,UAAI,CAAC,WAAW,EAAE,CAAC;KACpB,MAAM;AACL,WAAK,CAAC,8DAA8D,CAAC,CAAC;KACvE;GACF;AACD,aAAW,GAAG;AACZ,QAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;AACpC,QAAI,CAAC,QAAQ,CAAC;AACZ,iBAAW,EAAE,KAAK;KACnB,CAAC,CAAC;GACJ;AACD,eAAa,GAAG;AACd,QAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;GAChC;AACD,SAAO,GAAG;AACR,QAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;GAC9B;AACD,iBAAe,EAAE,YAAW;AAC1B,WAAO;AACL,iBAAW,EAAE,KAAK;KACnB,CAAC;GACH;AACD,QAAM,EAAE,YAAW;AACjB,WACE;;QAAK,SAAS,EAAC,MAAM;MACnB;;;;OAAqB;MACrB,oBAAC,QAAQ,IAAC,GAAG,EAAC,UAAU,EAAC,IAAI,EAAE,IAAI,AAAC,GAAG;MACvC,oBAAC,IAAI,IAAC,GAAG,EAAC,MAAM,EAAC,IAAI,EAAE,IAAI,AAAC,GAAG;KAC3B,CACN;GACH;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,MAAM,CACb,oBAAC,IAAI,OAAG,EACR,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CACnC,CAAC","file":"app.js","sourcesContent":["var Card = React.createClass({\n  handleClick() {\n    if(this.state.hidden || !this.props.game.state.turnStarted) return;\n    if(this.state.selected) {\n      this.setState({\n        selected: false\n      });\n    } else {\n      this.setState({\n        selected: true\n      });\n    }\n  },\n  hide() {\n    this.setState({\n      selected: false,\n      hidden: true\n    });\n  },\n  getInitialState() {\n    return {\n      selected: false,\n      hidden: false\n    }\n  },\n  render() {\n    var className = \"card\";\n    if(this.state.hidden) {\n      className += \" hidden\";\n    } else if(this.state.selected) {\n      className += \" selected\";\n    }\n    return (\n      <div className={className} onClick={this.handleClick}>{this.props.number}</div>\n    );\n  }\n});\n\nvar CardList = React.createClass({\n  endTurn() {\n    var cardTotal = 0;\n    for(var i=1; i<10; i++) {\n      if(this.refs[\"card-\"+i].state.selected) {\n        cardTotal += i;\n      }\n    }\n    this.setState({\n      cardTotal: cardTotal\n    }, this.props.game.endTurn);\n  },\n  removeSelected() {\n    var onlyOne = this.refs[\"card-1\"].state.selected;\n    for(var i=1; i<10; i++) {\n      if(this.refs[\"card-\"+i].state.selected) {\n        this.refs[\"card-\"+i].hide();\n        if(i!=1) onlyOne = false;\n      }\n    }\n    if(onlyOne) this.props.game.handleOnlyOne();\n  },\n  incrementTurnNumber() {\n    this.setState({\n      turnNumber: this.state.turnNumber + 1\n    });\n  },\n  endGame() {\n    var gameScore = 0;\n    for(var i=1; i<10; i++) {\n      if(!this.refs[\"card-\"+i].state.hidden) {\n        gameScore += i;\n      }\n    }\n    alert(\"You scored \"+gameScore);\n  },\n  getInitialState() {\n    return {\n      cardTotal: 0,\n      turnNumber: 0\n    };\n  },\n  render() {\n    var cards = [];\n    var turnNumber;\n    for(var i=1; i<10; i++) {\n      cards.push(<li key={i}><Card ref={\"card-\"+i} key={i} number={i} game={this.props.game} /></li>);\n    }\n    if(this.state.turnNumber) {\n      turnNumber = \" \"+this.state.turnNumber;\n    }\n    return (\n      <div>\n        <ul className=\"card-list\">\n          {cards}\n        </ul>\n        <button onClick={this.endTurn}>\n          End turn{turnNumber}\n        </button>\n      </div>\n    );\n  }\n});\n\nvar Die = React.createClass({\n  roll () {\n    var number = Math.floor(Math.random()*6+1);\n    this.setState({\n      number: number\n    });\n    return number;\n  },\n  getInitialState() {\n    return {\n      number: 1\n    };\n  },\n  render() {\n    return (\n      <div className=\"die\">{this.state.number}</div>\n    );\n  }\n});\n\nvar Dice = React.createClass({\n  roll() {\n    if(this.props.game.state.turnStarted) {\n      alert(\"You can't roll again until you finish your turn.\");\n    } else {\n      var diceTotal = 0;\n      for(var i=0; i<2; i++) {\n        diceTotal += this.refs[\"die-\"+i].roll();\n      }\n      this.setState({\n        diceTotal: diceTotal\n      });\n      this.props.game.startTurn();\n    }\n  },\n  endGame() {\n    this.props.game.endGame();\n  },\n  handleOnlyOne() {\n    this.setState({\n      numberOfDice: 1\n    });\n  },\n  getInitialState() {\n    return {\n      diceTotal: 0,\n      numberOfDice: 2\n    }\n  },\n  render() {\n    var dice = [];\n    for(var i=0; i<this.state.numberOfDice; i++) {\n      dice.push(<li key={i}><Die ref={\"die-\"+i} key={i} /></li>);\n    }\n    return (\n      <div>\n        <ul className=\"dice\">\n          {dice}\n        </ul>\n        <button onClick={this.roll}>\n          Roll\n        </button>\n        <button onClick={this.endGame}>\n          End Game\n        </button>\n      </div>\n    );\n  }\n});\n\nvar Game = React.createClass({\n  startTurn() {\n    this.setState({\n      turnStarted: true\n    });\n    this.refs.cardList.incrementTurnNumber();\n  },\n  endTurn() {\n    if(this.refs.cardList.state.cardTotal === this.refs.dice.state.diceTotal) {\n      this.handleEqual();\n    } else {\n      alert(\"the sum of your cards doesn't add up to the sum of your dice\");\n    }\n  },\n  handleEqual() {\n    this.refs.cardList.removeSelected();\n    this.setState({\n      turnStarted: false\n    });\n  },\n  handleOnlyOne() {\n    this.refs.dice.handleOnlyOne();\n  },\n  endGame() {\n    this.refs.cardList.endGame();\n  },\n  getInitialState: function() {\n    return {\n      turnStarted: false\n    };\n  },\n  render: function() {\n    return (\n      <div className=\"game\">\n        <h1>Shut The Box</h1>\n        <CardList ref=\"cardList\" game={this} />\n        <Dice ref=\"dice\" game={this} />\n      </div>\n    );\n  }\n});\n\nReactDOM.render(\n  <Game />,\n  document.getElementById('content')\n);"]}